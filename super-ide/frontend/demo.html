<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super IDE - Advanced AI Features Demo</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .monaco-editor {
            height: 400px;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <div id="app" class="min-h-screen">
        <!-- Header -->
        <header class="bg-gray-800 border-b border-gray-700 p-4">
            <div class="flex items-center justify-between">
                <h1 class="text-2xl font-bold text-blue-400">Super IDE</h1>
                <div class="flex items-center space-x-4">
                    <span class="text-sm text-gray-400">AI Assistant Ready</span>
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                </div>
            </div>
        </header>

        <div class="flex h-screen">
            <!-- File Explorer -->
            <div class="w-64 bg-gray-800 border-r border-gray-700 p-4">
                <h3 class="text-lg font-semibold mb-4">Files</h3>
                <div class="space-y-2">
                    <div class="p-2 bg-blue-600 rounded cursor-pointer">main.rs</div>
                    <div class="p-2 hover:bg-gray-700 rounded cursor-pointer">lib.rs</div>
                    <div class="p-2 hover:bg-gray-700 rounded cursor-pointer">Cargo.toml</div>
                </div>
            </div>

            <!-- Main Editor Area -->
            <div class="flex-1 flex flex-col">
                <!-- Code Editor -->
                <div class="flex-1 p-4">
                    <div class="bg-gray-800 rounded-lg p-4 mb-4">
                        <h3 class="text-lg font-semibold mb-2">Code Editor</h3>
                        <div id="editor" class="monaco-editor bg-gray-900 rounded"></div>
                    </div>

                    <!-- AI Assistant Panel -->
                    <div class="bg-gray-800 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">AI Assistant</h3>
                            <div class="flex space-x-2">
                                <button @click="toggleAI" 
                                        :class="aiActive ? 'bg-green-600' : 'bg-gray-600'"
                                        class="px-3 py-1 rounded text-sm">
                                    {{ aiActive ? 'Active' : 'Inactive' }}
                                </button>
                            </div>
                        </div>
                        
                        <div v-if="aiActive" class="space-y-4">
                            <!-- Smart Suggestions -->
                            <div>
                                <h4 class="font-medium text-blue-400 mb-2">Smart Suggestions</h4>
                                <div class="space-y-2">
                                    <div v-for="suggestion in aiSuggestions" 
                                         :key="suggestion.id"
                                         class="p-3 bg-gray-700 rounded hover:bg-gray-600 cursor-pointer"
                                         @click="applySuggestion(suggestion)">
                                        <div class="font-medium">{{ suggestion.title }}</div>
                                        <div class="text-sm text-gray-400">{{ suggestion.description }}</div>
                                        <div class="text-xs text-blue-400 mt-1">{{ suggestion.confidence }}% confidence</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Code Analysis -->
                            <div>
                                <h4 class="font-medium text-blue-400 mb-2">Code Analysis</h4>
                                <div class="space-y-2">
                                    <div v-for="analysis in codeAnalysis" 
                                         :key="analysis.id"
                                         :class="getAnalysisClass(analysis.severity)"
                                         class="p-3 rounded">
                                        <div class="font-medium">{{ analysis.title }}</div>
                                        <div class="text-sm">{{ analysis.message }}</div>
                                        <div class="text-xs mt-1">{{ analysis.line }}:{{ analysis.column }}</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Learning Panel -->
                            <div>
                                <h4 class="font-medium text-blue-400 mb-2">Learning Progress</h4>
                                <div class="grid grid-cols-3 gap-4">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-green-400">{{ learningStats.concepts }}</div>
                                        <div class="text-sm text-gray-400">Concepts Learned</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-blue-400">{{ learningStats.exercises }}</div>
                                        <div class="text-sm text-gray-400">Exercises Done</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-yellow-400">{{ learningStats.progress }}%</div>
                                        <div class="text-sm text-gray-400">Progress</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div v-else class="text-gray-400 text-center py-8">
                            AI Assistant is currently inactive. Click "Active" to enable smart suggestions and analysis.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    aiActive: true,
                    aiSuggestions: [
                        {
                            id: 1,
                            title: "Optimize Memory Usage",
                            description: "Consider using Box<T> for large data structures to reduce stack usage",
                            confidence: 92
                        },
                        {
                            id: 2,
                            title: "Add Error Handling",
                            description: "This function should handle potential failures gracefully",
                            confidence: 88
                        },
                        {
                            id: 3,
                            title: "Security Improvement",
                            description: "Input validation recommended for user data processing",
                            confidence: 95
                        }
                    ],
                    codeAnalysis: [
                        {
                            id: 1,
                            title: "Performance Warning",
                            message: "Potential memory allocation in loop detected",
                            severity: "warning",
                            line: 45,
                            column: 12
                        },
                        {
                            id: 2,
                            title: "Security Issue",
                            message: "Unsanitized user input could lead to vulnerabilities",
                            severity: "error",
                            line: 23,
                            column: 8
                        },
                        {
                            id: 3,
                            title: "Code Quality",
                            message: "Consider extracting this logic into a separate function",
                            severity: "info",
                            line: 67,
                            column: 5
                        }
                    ],
                    learningStats: {
                        concepts: 24,
                        exercises: 18,
                        progress: 76
                    }
                }
            },
            methods: {
                toggleAI() {
                    this.aiActive = !this.aiActive;
                },
                applySuggestion(suggestion) {
                    alert(`Applying suggestion: ${suggestion.title}`);
                },
                getAnalysisClass(severity) {
                    const classes = {
                        error: 'bg-red-900 border border-red-700',
                        warning: 'bg-yellow-900 border border-yellow-700',
                        info: 'bg-blue-900 border border-blue-700'
                    };
                    return classes[severity] || classes.info;
                }
            },
            mounted() {
                // Initialize Monaco Editor
                require.config({ 
                    paths: { 
                        'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs' 
                    } 
                });
                
                require(['vs/editor/editor.main'], function() {
                    monaco.editor.create(document.getElementById('editor'), {
                        value: `fn main() {
    println!("Hello, Super IDE!");
    
    // AI-Enhanced Code Example
    let mut data = vec![1, 2, 3, 4, 5];
    
    // Smart suggestion: Consider using Box<Vec<T>> for large data
    process_data(&mut data);
    
    // AI Analysis: This function could benefit from error handling
    let result = risky_operation();
    
    println!("Result: {:?}", result);
}

fn process_data(data: &mut Vec<i32>) {
    for item in data {
        *item *= 2;
    }
}

fn risky_operation() -> Result<String, String> {
    // AI Suggestion: Add proper error handling here
    Ok("Success".to_string())
}`,
                        language: 'rust',
                        theme: 'vs-dark',
                        automaticLayout: true,
                        fontSize: 14,
                        minimap: { enabled: false }
                    });
                });
            }
        }).mount('#app');
    </script>
</body>
</html>